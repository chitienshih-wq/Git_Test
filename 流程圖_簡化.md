# TradingAgents 交易決策系統流程圖（簡化版）

本文檔以簡單易懂的方式說明交易決策系統如何運作，從開始到產生最終交易建議的完整流程。

## 目錄
1. [整體運作流程](#整體運作流程)
2. [系統準備階段](#系統準備階段)
3. [分析師團隊工作流程](#分析師團隊工作流程)
4. [研究與決策流程](#研究與決策流程)
5. [風險評估流程](#風險評估流程)
6. [完整工作流程圖](#完整工作流程圖)

---

## 整體運作流程

```mermaid
flowchart TD
    Start([系統啟動]) --> LoadConfig[載入系統設定]
    LoadConfig --> SetupSystem[準備系統環境]
    SetupSystem --> InitAgents[啟動所有分析師]
    InitAgents --> RunAnalysis[開始分析股票]
    RunAnalysis --> GetResult[取得交易建議]
    GetResult --> End([完成])
    
    style Start fill:#228B22
    style End fill:#C71585
    style SetupSystem fill:#1E90FF
    style RunAnalysis fill:#FF8C00
```

---

## 系統準備階段

### 系統初始化流程

```mermaid
flowchart TD
    Start([開始準備系統]) --> SetConfig[設定系統參數]
    SetConfig --> CreateFolders[建立資料儲存位置]
    CreateFolders --> InitAI[啟動人工智慧分析引擎]
    
    InitAI --> InitMemory[建立記憶系統<br/>記錄過去的決策經驗]
    
    InitMemory --> PrepareTools[準備資料查詢工具<br/>股票價格查詢<br/>技術指標計算<br/>新聞資料取得<br/>財務報表查詢]
    
    PrepareTools --> SetupWorkflow[建立工作流程<br/>安排各分析師的工作順序]
    
    SetupWorkflow --> End([系統準備完成])
    
    style Start fill:#228B22
    style End fill:#C71585
    style InitAI fill:#FF8C00
    style SetupWorkflow fill:#1E90FF
```

---

## 分析師團隊工作流程

### 分析師團隊完整流程

```mermaid
flowchart TD
    Start([開始分析]) --> MarketAnalyst[市場分析師<br/>分析股價走勢和技術指標]
    
    MarketAnalyst -->|需要更多資料| GetMarketData[取得市場資料]
    MarketAnalyst -->|分析完成| ClearMarket[清理訊息]
    GetMarketData --> MarketAnalyst
    
    ClearMarket --> SocialAnalyst[社交媒體分析師<br/>分析網路討論和市場情緒]
    
    SocialAnalyst -->|需要更多資料| GetSocialData[取得社交媒體資料]
    SocialAnalyst -->|分析完成| ClearSocial[清理訊息]
    GetSocialData --> SocialAnalyst
    
    ClearSocial --> NewsAnalyst[新聞分析師<br/>分析相關新聞和全球經濟]
    
    NewsAnalyst -->|需要更多資料| GetNewsData[取得新聞資料]
    NewsAnalyst -->|分析完成| ClearNews[清理訊息]
    GetNewsData --> NewsAnalyst
    
    ClearNews --> FundAnalyst[財務分析師<br/>分析公司財務狀況]
    
    FundAnalyst -->|需要更多資料| GetFundData[取得財務資料]
    FundAnalyst -->|分析完成| ClearFund[清理訊息]
    GetFundData --> FundAnalyst
    
    ClearFund --> ResearchTeam[進入研究團隊階段]
    
    style Start fill:#228B22
    style ResearchTeam fill:#FF8C00
```

### 市場分析師工作流程

```mermaid
flowchart TD
    Start([市場分析師開始工作]) --> GetInfo[取得要分析的股票資訊<br/>股票代號和日期]
    
    GetInfo --> PrepareTask[準備分析任務<br/>說明要分析哪些技術指標]
    
    PrepareTask --> AskAI[請人工智慧分析<br/>分析股價趨勢和技術指標]
    
    AskAI --> CheckNeedData{需要查詢更多資料嗎?}
    
    CheckNeedData -->|需要| QueryData[查詢股票價格和技術指標資料]
    CheckNeedData -->|不需要| WriteReport[撰寫分析報告]
    
    QueryData --> AskAI
    
    WriteReport --> Return[提交分析報告]
    Return --> End([完成])
    
    style Start fill:#228B22
    style End fill:#C71585
    style CheckNeedData fill:#FF8C00
    style AskAI fill:#1E90FF
```

### 社交媒體分析師工作流程

```mermaid
flowchart TD
    Start([社交媒體分析師開始工作]) --> GetInfo[取得要分析的股票資訊<br/>股票代號和日期]
    
    GetInfo --> PrepareTask[準備分析任務<br/>說明要分析社交媒體討論和市場情緒]
    
    PrepareTask --> AskAI[請人工智慧分析<br/>分析網路討論和市場情緒]
    
    AskAI --> CheckNeedData{需要查詢更多資料嗎?}
    
    CheckNeedData -->|需要| QueryData[查詢社交媒體和新聞資料]
    CheckNeedData -->|不需要| WriteReport[撰寫分析報告]
    
    QueryData --> AskAI
    
    WriteReport --> Return[提交分析報告]
    Return --> End([完成])
    
    style Start fill:#228B22
    style End fill:#C71585
    style CheckNeedData fill:#FF8C00
    style AskAI fill:#1E90FF
```

---

## 研究與決策流程

### 研究團隊辯論流程

```mermaid
flowchart TD
    Start([所有分析師完成報告]) --> BullResearcher[看多研究員<br/>找出支持買進的理由]
    
    BullResearcher --> CheckRounds{辯論次數足夠了嗎?}
    
    CheckRounds -->|不夠| BearResearcher[看空研究員<br/>找出支持賣出的理由]
    CheckRounds -->|足夠| ResearchManager[研究經理<br/>綜合評估並做出決策]
    
    BearResearcher --> CheckRounds2{辯論次數足夠了嗎?}
    
    CheckRounds2 -->|不夠| BullResearcher
    CheckRounds2 -->|足夠| ResearchManager
    
    ResearchManager --> ReviewReports[檢視所有分析報告]
    ReviewReports --> ReviewDebate[檢視辯論過程]
    ReviewDebate --> CheckMemory[查閱過去的決策經驗]
    CheckMemory --> MakeDecision[做出投資建議<br/>買進、賣出或持有]
    MakeDecision --> CreatePlan[制定投資計劃]
    CreatePlan --> Trader[交給交易員]
    
    style Start fill:#228B22
    style ResearchManager fill:#FF8C00
    style Trader fill:#1E90FF
```

### 交易員決策流程

```mermaid
flowchart TD
    Start([交易員收到投資計劃]) --> ReviewPlan[檢視投資計劃]
    ReviewPlan --> ReviewReports[檢視所有分析師的報告]
    ReviewReports --> CheckMemory[查閱過去的交易經驗]
    CheckMemory --> Analyze[綜合分析所有資訊]
    Analyze --> AskAI[請人工智慧做出交易決策]
    AskAI --> MakeDecision[做出最終交易建議<br/>買進、賣出或持有]
    MakeDecision --> RiskTeam[交給風險管理團隊]
    
    style Start fill:#228B22
    style AskAI fill:#1E90FF
    style RiskTeam fill:#FF8C00
```

---

## 風險評估流程

### 風險管理團隊討論流程

```mermaid
flowchart TD
    Start([風險管理團隊收到交易建議]) --> RiskyAnalyst[積極風險分析師<br/>評估高風險高報酬的可能性]
    
    RiskyAnalyst --> CheckRounds{討論次數足夠了嗎?}
    
    CheckRounds -->|不夠| SafeAnalyst[保守風險分析師<br/>評估低風險穩健的可能性]
    CheckRounds -->|足夠| RiskJudge[風險評估官<br/>做出最終風險評估]
    
    SafeAnalyst --> CheckRounds2{討論次數足夠了嗎?}
    
    CheckRounds2 -->|不夠| NeutralAnalyst[中性風險分析師<br/>評估平衡風險的可能性]
    CheckRounds2 -->|足夠| RiskJudge
    
    NeutralAnalyst --> CheckRounds3{討論次數足夠了嗎?}
    
    CheckRounds3 -->|不夠| RiskyAnalyst
    CheckRounds3 -->|足夠| RiskJudge
    
    RiskJudge --> ReviewDiscussion[檢視風險討論過程]
    ReviewDiscussion --> ReviewPlan[檢視交易計劃]
    ReviewPlan --> CheckMemory[查閱過去的風險評估經驗]
    CheckMemory --> MakeFinalDecision[做出最終交易決策<br/>買進、賣出或持有]
    MakeFinalDecision --> ExtractDecision[提取決策結果]
    ExtractDecision --> End([完成])
    
    style Start fill:#228B22
    style End fill:#C71585
    style RiskJudge fill:#FF8C00
    style MakeFinalDecision fill:#FF8C00
```

---

## 完整工作流程圖

### 系統完整運作流程

```mermaid
flowchart TD
    Start([系統啟動]) --> Setup[系統準備階段<br/>啟動人工智慧引擎<br/>準備資料查詢工具<br/>建立工作流程]
    
    Setup --> AnalystPhase[分析師團隊階段]
    
    AnalystPhase --> Market[市場分析師<br/>分析股價和技術指標]
    Market --> Social[社交媒體分析師<br/>分析網路討論和情緒]
    Social --> News[新聞分析師<br/>分析相關新聞]
    News --> Fund[財務分析師<br/>分析公司財務]
    
    Fund --> ResearchPhase[研究團隊階段]
    
    ResearchPhase --> Bull[看多研究員<br/>找出買進理由]
    Bull --> Bear[看空研究員<br/>找出賣出理由]
    Bear --> Bull
    Bull --> Manager[研究經理<br/>綜合評估做出投資建議]
    
    Manager --> TraderPhase[交易員階段]
    
    TraderPhase --> Trader[交易員<br/>做出交易決策]
    
    Trader --> RiskPhase[風險管理階段]
    
    RiskPhase --> Risky[積極風險分析師]
    Risky --> Safe[保守風險分析師]
    Safe --> Neutral[中性風險分析師]
    Neutral --> Risky
    Risky --> Judge[風險評估官<br/>做出最終決策]
    
    Judge --> Final[最終交易決策<br/>買進、賣出或持有]
    Final --> End([完成])
    
    style Start fill:#228B22
    style End fill:#C71585
    style Setup fill:#1E90FF
    style Manager fill:#FF8C00
    style Judge fill:#FF8C00
    style Final fill:#FF8C00
```

---

## 系統運作說明

### 第一階段：分析師團隊
系統會依序啟動四位專業分析師：
1. **市場分析師**：分析股票價格走勢和技術指標（如移動平均線、MACD、RSI等）
2. **社交媒體分析師**：分析網路上的討論、市場情緒和相關新聞
3. **新聞分析師**：分析全球經濟新聞和公司相關新聞
4. **財務分析師**：分析公司的財務報表、資產負債表、現金流等

每位分析師完成分析後，會提交一份詳細的報告。

### 第二階段：研究團隊辯論
兩位研究員會根據分析師的報告進行辯論：
- **看多研究員**：專注找出支持買進的理由
- **看空研究員**：專注找出支持賣出的理由

他們會來回辯論，直到達到設定的辯論次數。最後由**研究經理**綜合所有資訊，做出投資建議並制定投資計劃。

### 第三階段：交易員決策
**交易員**會檢視研究經理的投資計劃和所有分析報告，結合過去的交易經驗，做出交易決策。

### 第四階段：風險管理
三位風險分析師會評估交易建議的風險：
- **積極風險分析師**：評估高風險高報酬的可能性
- **保守風險分析師**：評估低風險穩健的可能性
- **中性風險分析師**：評估平衡風險的可能性

他們會來回討論，最後由**風險評估官**做出最終的風險評估和交易決策。

### 最終結果
系統會產出最終的交易建議：**買進（BUY）**、**賣出（SELL）** 或 **持有（HOLD）**。

---

## 系統特色

1. **多角度分析**：從技術面、情緒面、新聞面、財務面全面分析
2. **辯論機制**：透過研究員的辯論，確保決策的全面性
3. **風險控制**：透過風險管理團隊的討論，確保決策的安全性
4. **經驗學習**：系統會記住過去的決策經驗，持續改進
5. **自動化流程**：所有分析師和決策者都是人工智慧，可以自動運作

---

## 總結

這個交易決策系統就像一個完整的投資團隊，有專門的分析師負責不同領域的分析，有研究員進行辯論，有交易員做出決策，還有風險管理團隊進行把關。整個過程都是自動化的，最終會產出一個明確的交易建議。

